var pe=Object.defineProperty;var me=(t,e,i)=>e in t?pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var w=(t,e,i)=>me(t,typeof e!="symbol"?e+"":e,i);import{n as ue}from"./helpers-SiW2vY12-1.js";import{sendTrackingEvent as ge}from"./tracking-wc8XaWQf-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-BlDnuGFC-1.js";import"./actions-DEzMaOTc-1.js";const U=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},he=t=>{if(document.readyState==="loading")return"loading";{const e=U();if(e){if(t<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||t<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||t<e.domComplete)return"dom-content-loaded"}}return"complete"},fe=t=>{const e=t.nodeName;return t.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},Te=t=>{let e="";try{for(;(t==null?void 0:t.nodeType)!==9;){const i=t,n=i.id?"#"+i.id:[fe(i),...Array.from(i.classList).sort()].join(".");if(e.length+n.length>99)return e||n;if(e=e?n+">"+e:n,i.id)break;t=i.parentNode}}catch{}return e},F=new WeakMap;function K(t,e){return F.get(t)||F.set(t,new e),F.get(t)}let ie=-1;const ve=()=>ie,oe=t=>{addEventListener("pageshow",e=>{e.persisted&&(ie=e.timeStamp,t(e))},!0)},Q=(t,e,i,n)=>{let o,m;return g=>{e.value>=0&&(g||n)&&(m=e.value-(o??0),(m||o===void 0)&&(o=e.value,e.delta=m,e.rating=((u,v)=>u>v[1]?"poor":u>v[0]?"needs-improvement":"good")(e.value,i),t(e)))}},ae=()=>{const t=U();return(t==null?void 0:t.activationStart)??0},X=(t,e=-1)=>{const i=U();let n="navigate";return ve()>=0?n="back-forward-cache":i&&(document.prerendering||ae()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},O=(t,e,i={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const n=new PerformanceObserver(o=>{Promise.resolve().then(()=>{e(o.getEntries())})});return n.observe({type:t,buffered:!0,...i}),n}}catch{}},ye=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let b=-1;const se=new Set,Y=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,j=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(const e of se)e();isFinite(b)||(b=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",j,!0))}},be=()=>{var t;if(b<0){const e=ae();b=(document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0])==null?void 0:t.startTime)??Y(),addEventListener("visibilitychange",j,!0),addEventListener("prerenderingchange",j,!0),oe(()=>{setTimeout(()=>{b=Y()})})}return{get firstHiddenTime(){return b},onHidden(e){se.add(e)}}},Ee=t=>{document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()};let de=0,W=1/0,_=0;const Se=t=>{for(const e of t)e.interactionId&&(W=Math.min(W,e.interactionId),_=Math.max(_,e.interactionId),de=_?(_-W)/7+1:0)};let B;const Z=()=>B?de:performance.interactionCount??0,we=()=>{"interactionCount"in performance||B||(B=O("event",Se,{type:"event",buffered:!0,durationThreshold:0}))};let ee=0;class te{constructor(){w(this,"l",[]);w(this,"h",new Map);w(this,"m");w(this,"p")}v(){ee=Z(),this.l.length=0,this.h.clear()}M(){const e=Math.min(this.l.length-1,Math.floor((Z()-ee)/50));return this.l[e]}u(e){var o,m;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;const i=this.l.at(-1);let n=this.h.get(e.interactionId);if(n||this.l.length<10||e.duration>i.T){if(n?e.duration>n.T?(n.entries=[e],n.T=e.duration):e.duration===n.T&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],T:e.duration},this.h.set(n.id,n),this.l.push(n)),this.l.sort((g,u)=>u.T-g.T),this.l.length>10){const g=this.l.splice(10);for(const u of g)this.h.delete(u.id)}(m=this.p)==null||m.call(this,n)}}}const ne=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=ye(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e(()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})}))},re=[200,500],De=(t,e={})=>{const i=K(e=Object.assign({},e),te);let n=[],o=[],m=0;const g=new WeakMap,u=new WeakMap;let v=!1;const q=()=>{v||(ne(ce),v=!0)},ce=()=>{const r=i.l.map(d=>g.get(d.entries[0])),a=o.length-50;o=o.filter((d,p)=>p>=a||r.includes(d));const s=new Set;for(const d of o){const p=R(d.startTime,d.processingEnd);for(const y of p)s.add(y)}const c=n.length-1-50;n=n.filter((d,p)=>d.startTime>m&&p>c||s.has(d)),v=!1};i.m=r=>{const a=r.startTime+r.duration;let s;m=Math.max(m,r.processingEnd);for(let c=o.length-1;c>=0;c--){const d=o[c];if(Math.abs(a-d.renderTime)<=8){s=d,s.startTime=Math.min(r.startTime,s.startTime),s.processingStart=Math.min(r.processingStart,s.processingStart),s.processingEnd=Math.max(r.processingEnd,s.processingEnd),s.entries.push(r);break}}s||(s={startTime:r.startTime,processingStart:r.processingStart,processingEnd:r.processingEnd,renderTime:a,entries:[r]},o.push(s)),(r.interactionId||r.entryType==="first-input")&&g.set(r,s),q()},i.p=r=>{var a;if(!u.get(r)){const s=r.entries[0].target;if(s){const c=((a=e.generateTarget)==null?void 0:a.call(e,s))??Te(s);u.set(r,c)}}};const R=(r,a)=>{const s=[];for(const c of n)if(!(c.startTime+c.duration<r)){if(c.startTime>a)break;s.push(c)}return s},le=r=>{const a=r.entries[0],s=g.get(a),c=a.processingStart,d=Math.max(a.startTime+a.duration,c),p=Math.min(s.processingEnd,d),y=s.entries.sort((l,f)=>l.processingStart-f.processingStart),E=R(a.startTime,p),L=i.h.get(a.interactionId),T={interactionTarget:u.get(L),interactionType:a.name.startsWith("key")?"keyboard":"pointer",interactionTime:a.startTime,nextPaintTime:d,processedEventEntries:y,longAnimationFrameEntries:E,inputDelay:c-a.startTime,processingDuration:p-c,presentationDelay:d-p,loadState:he(a.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return(l=>{var z;if(!((z=l.longAnimationFrameEntries)!=null&&z.length))return;const f=l.interactionTime,I=l.inputDelay,$=l.processingDuration;let P,k,A=0,S=0,C=0,x=0;for(const D of l.longAnimationFrameEntries){S=S+D.startTime+D.duration-D.styleAndLayoutStart;for(const h of D.scripts){const G=h.startTime+h.duration;if(G<f)continue;const M=G-Math.max(f,h.startTime),J=h.duration?M/h.duration*h.forcedStyleAndLayoutDuration:0;A+=M-J,S+=J,M>x&&(k=h.startTime<f+I?"input-delay":h.startTime>=f+I+$?"presentation-delay":"processing-duration",P=h,x=M)}}const N=l.longAnimationFrameEntries.at(-1),V=N?N.startTime+N.duration:0;V>=f+I+$&&(C=l.nextPaintTime-V),P&&k&&(l.longestScript={entry:P,subpart:k,intersectingDuration:x}),l.totalScriptDuration=A,l.totalStyleAndLayoutDuration=S,l.totalPaintDuration=C,l.totalUnattributedDuration=l.nextPaintTime-f-A-S-C})(T),Object.assign(r,{attribution:T})};O("long-animation-frame",r=>{n=n.concat(r),q()}),((r,a={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const s=be();Ee(()=>{we();let c,d=X("INP");const p=K(a,te),y=L=>{ne(()=>{for(const l of L)p.u(l);const T=p.M();T&&T.T!==d.value&&(d.value=T.T,d.entries=T.entries,c())})},E=O("event",y,{durationThreshold:a.durationThreshold??40});c=Q(r,d,re,a.reportAllChanges),E&&(E.observe({type:"first-input",buffered:!0}),s.onHidden(()=>{y(E.takeRecords()),c(!0)}),oe(()=>{p.v(),d=X("INP"),c=Q(r,d,re,a.reportAllChanges)}))})})(r=>{const a=le(r);t(a)},e)};function Me({name:t,delta:e,value:i,id:n,attribution:o}){if(t==="INP"){const m={metric_value:i,metric_id:n,debug_target:o.interactionTarget,debug_type:o.interactionType,debug_content_type:ue(),debug_time:o.interactionTime,debug_load_state:o.loadState,debug_input_delay:o.inputDelay,debug_processing_duration:o.processingDuration,debug_presentation_delay:o.presentationDelay};if(!(o!=null&&o.interactionTarget))return;ge({data:{action:t,category:"Web-Vitals",label:o.interactionTarget,value:e,metric_id:n,metric_value:i,metric_delta:e,...m}})}}const H=()=>{De(Me)};window.addEventListener("turbo:before-visit",()=>{window.removeEventListener("turbo:load",H),window.addEventListener("turbo:load",H)});window.addEventListener("turbo:load",H);
