import{a}from"./stimulus-helpers-Bg5ApOVk-1.js";import i from"./form-controller-2zDCPAyk-1.js";import{deleteCompleteEventSources as o,trackCompleteEvent as m,findReferringCategory as n,sendTrackingEvent as t}from"./tracking-wc8XaWQf-1.js";import s from"./sensitive-fields-CU5ZDaMy-1.js";import{bc as l,ar as p,am as c}from"./actions-DEzMaOTc-1.js";import"./stimulus-Cq41p_up-1.js";import"./preload-helper-cYIQMxwj-1.js";import"./ez-base-controller-DuL8VR07-1.js";import"./rails-ujs-DLwK8N9E-1.js";import"./form-validator-CJag8LaW-1.js";import"./helpers-SiW2vY12-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-BlDnuGFC-1.js";import"./error-helpers-DGFBXUyQ-1.js";import"./validation-helpers-BBj1uxD1-1.js";import"./animated-label-C1bR7wu_-1.js";import"./button-helpers-CvZG-X-W-1.js";class d extends i{connect(){super.connect(),this.trackTriggerEvent(),s(),o()}validateAndSubmit(){this.validator.preSubmitValidate(),this.validator.valid?(this.trackFormComplete(),this.submit(),m({action:l,category:n(this.element),label:"Sign_In-Email",dataLayerCompleteAttrs:["email_address","email_hash_md5","email_hash_sha1","sign_in_type","name","country","postal_code"]})):super.hideSpinner()}trackCreate(r){t({element:r.target,data:{action:p}})}trackTriggerEvent(){const e=new URLSearchParams(window.location.search).get("referring_conversions_category");(e==="Trigger-Reset_Password_Token_Invalid"||e==="Trigger-Devise_Failure")&&t({data:{category:e,action:c}})}}a({name:"login-form",import:d});export{d as default};
