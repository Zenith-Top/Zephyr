import{a as s}from"./stimulus-helpers-Bg5ApOVk-1.js";import c from"./ez-base-controller-DuL8VR07-1.js";import{D as i,g as l,am as m,J as g,bh as u,z as d}from"./actions-DEzMaOTc-1.js";import{g as a}from"./resource-show-helpers-DXDjpo0n-1.js";import{e as p}from"./events-BkNvg-Hc-1.js";import{t as C,n as h}from"./helpers-SiW2vY12-1.js";import{sendTrackingEvent as t,trackCompleteEvent as T}from"./tracking-wc8XaWQf-1.js";import"./stimulus-Cq41p_up-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-BlDnuGFC-1.js";const n=class n extends c{constructor(){super(...arguments),this.setSearchData=()=>{const e=window.localStorage.getItem(`resource-${this.resourceIdValue}`);e&&(this.searchData=JSON.parse(e),window.localStorage.removeItem(`resource-${this.resourceIdValue}`))}}connect(){this.setSearchData()}sendDownloadClickEvent(e){let r={resourceId:this.resourceIdValue,resourceType:a()};this.searchData&&(r=Object.assign(r,this.searchData)),C(p.download_btn.initial_click,r),t({element:e.currentTarget,data:{action:i,label:a(),category:"Show",content_type:`Content-${this.resourceContentType}`}})}trackDownloadCompleteEvent(){t({data:{action:l,label:a(),category:"Show",content_type:`Content-${this.resourceContentType}`}})}trackLoginTriggerEvent(e){t({element:e.currentTarget,data:{action:m,category:"Trigger-Download_Click"}})}trackJoinProEvent(e){t({element:e.currentTarget,data:{action:g,category:"Trigger-Download_Click",label:"Pro"}}),T({action:d,category:"Trigger-Download_Click"})}trackCustomizeEvent(e){t({element:e.currentTarget,data:{action:u}})}get resourceContentType(){return document.body.dataset.conversionsContentType||h()}};n.values={resourceId:String};let o=n;s({name:"download-tracking",import:o});export{o as default};
