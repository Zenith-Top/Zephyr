import{a as m}from"./stimulus-helpers-Bg5ApOVk-1.js";import{C as g}from"./stimulus-Cq41p_up-1.js";import{a as l}from"./js-Cz0CWeBA-1.js";import{g as p}from"./helpers-SiW2vY12-1.js";import{Y as C,Z as L}from"./actions-DEzMaOTc-1.js";import{findCategoryByElement as f,sendTrackingEvent as h,trackCompleteEvent as k,processLocale as u}from"./tracking-wc8XaWQf-1.js";import"./init-user-BlDnuGFC-1.js";const a=class a extends g{constructor(){super(...arguments),this.intentionalLocaleCookieKey="intentional_locale_switch",this.handleLangSwitch=t=>{t.preventDefault(),this.requestLocaleDomainCookie(t)},this.requestLocaleDomainCookie=t=>{const i=JSON.parse(l.get(this.intentionalLocaleCookieKey)||"[]"),{locale:e}=t.target.dataset,r=i?i.filter(c=>c!==e).concat(e):[e];this.saveLocaleCookie(r);const s=f(t.target),n=u(e);h({element:t.target,data:{action:C,category:s,label:n}}),k({action:L,category:s,label:n}),window.location.assign(t.target.href)}}toggle(t){t.preventDefault(),this.sourceTarget.classList.toggle("is-visible"),this.element.classList.toggle("menu-visible")}saveLocaleCookie(t){l.set(this.intentionalLocaleCookieKey,JSON.stringify(t),{domain:p()})}};a.targets=["source"];let o=a;m({name:"language-switcher",import:o});export{o as default};
