import{a as i}from"./stimulus-helpers-Bg5ApOVk-1.js";import{C as o}from"./stimulus-Cq41p_up-1.js";import{C as s}from"./clipboard-w_36dFSC-1.js";import"./_commonjsHelpers-BosuxZz1-1.js";const e=class e extends o{connect(){this.clipboard=new s("[data-action~='click->copy-link#copyText']",{text:()=>this.returnCopyLinkText()})}disconnect(){this.clipboard.destroy()}copyText(){this.showCopied()}showCopied(){window.clearTimeout(this.showTimeout),window.clearTimeout(this.floatAwayTimeout),window.clearTimeout(this.resetTimeout),this.showTimeout=window.setTimeout(()=>{this.tooltipCopiedTarget.classList.add("show-copied")},100),this.tooltipCopiedTarget.classList.remove("float-away-copied","show-copied"),this.floatAwayTimeout=window.setTimeout(()=>{this.tooltipCopiedTarget.classList.add("float-away-copied")},2e3),this.resetTimeout=window.setTimeout(()=>{this.tooltipCopiedTarget.classList.remove("float-away-copied","show-copied")},3e3)}returnCopyLinkText(){return this.getLinkText().trim()}getLinkText(){return this.linkSourceTarget.textContent?this.linkSourceTarget.textContent:this.linkSourceTarget.value}};e.targets=["tooltipCopied","linkSource"];let t=e;i({name:"copy-link",import:t});export{t as default};
