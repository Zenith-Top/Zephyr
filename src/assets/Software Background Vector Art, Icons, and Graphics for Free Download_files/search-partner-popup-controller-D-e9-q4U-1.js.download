import{a as i}from"./stimulus-helpers-Bg5ApOVk-1.js";import n from"./ez-base-controller-DuL8VR07-1.js";import{F as l}from"./helpers-SiW2vY12-1.js";import{c as P,s as u,P as s,o as h}from"./partner-popup-helpers-D9kg_dU1-1.js";import{a}from"./js-Cz0CWeBA-1.js";import"./stimulus-Cq41p_up-1.js";import"./init-user-BlDnuGFC-1.js";import"./ez-popunder-CPI-tcnF-1.js";const S=5;class f extends n{constructor(){super(...arguments),this.displaySearchPopup=r=>{const{target:e}=r,p=r!=null&&r.params?r.params.term:null,o=this.getSearchFormTerm(e)||p;if(P()&&!u()){const c=a.get(s)||"0",t=parseInt(c,10)+1;if(o&&t>=S){const m=window.partnerService.indirectUrl({placement:"SearchPopNoPricing",searchTerm:o});h(m)}else a.set(s,t.toString(),{expires:l()})}}}getSearchFormTerm(r){if(!r)return null;const e=r.querySelector(".ez-search-form__input");return e==null?void 0:e.value}}i({name:"search-partner-popup",import:f});export{f as default};
